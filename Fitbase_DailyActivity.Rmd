---
title: "Fitbase DailyActivity"
author: "Rinatha Ziyad Akmal"
date: "`r Sys.Date()`"
output: html_document
---

## About Dataset
This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. Individual reports can be parsed by export session ID (column A) or timestamp (column B). Variation between output represents use of different types of Fitbit trackers and individual tracking behaviors / preferences.

![](https://cdn.mos.cms.futurecdn.net/NPiPPVRoa9qbfJKxxmKjx3-600-80.jpg)

## [1]Setting Up Environment
```{r setting up environment, warning=FALSE}
library(tidyverse)
library(ggplot2)
library(readr)
```

## [2]Import Dataset to R
```{r import data, warning=FALSE}
read_csv("/Users/ziyad6092/Documents/Code/Practice/Portfolio/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
read_csv("/Users/ziyad6092/Documents/Code/Practice/Portfolio/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
```

## [3]Create dataframe
#### Input dataset to variable
```{r create dataframe}
dailyactivity <- read_csv('/Users/ziyad6092/Documents/Code/Practice/Portfolio/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv')
sleepday <- read_csv('/Users/ziyad6092/Documents/Code/Practice/Portfolio/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv')
```
#### Preview dataset
```{r preview dataset, warning=FALSE}
head(dailyactivity)
colnames(dailyactivity)
head(sleepday)
colnames(sleepday)
```

## [4]Count Number of Unique Values
```{r distinct, warning=FALSE}
n_distinct(dailyactivity)
n_distinct(sleepday)
nrow(dailyactivity)
nrow(sleepday)
```

## [5]Clean Format Data and re-Arrange Data
re-arrange data can be useful to understand data from high to low (vice versa)
```{r set format and arrange data, warning=FALSE}
dailyactivity[order(as.Date(dailyactivity$V3, format = "%d/%m/%y"))]
dailyactivity <- dailyactivity %>%  arrange(ActivityDate)
sleepday[order(as.Date(sleepday$V3, format = "%d/%m/%y"))]
sleepday <- sleepday %>% arrange(Id)
```

## [6]Transform Data
Transform real unique value into a factor
```{r transform, warning=FALSE}
dailyactivity$Id <- as.factor(dailyactivity$Id)
sleepday$Id <- as.factor(sleepday$Id)
```
#### Quick summary statistics we'd want to know about each data frame
```{r summary}
dailyactivity %>% 
  select(TotalSteps, TotalDistance, SedentaryMinutes) %>% 
  summary()
sleepday %>% 
  select(TotalSleepRecords,TotalMinutesAsleep, TotalTimeInBed) %>% 
  summary()
```

## [7] Visualize Plot
```{r plotting, echo=FALSE, warning=FALSE}
ggplot(dailyactivity, aes(x=TotalSteps, y=SedentaryMinutes)) +
  geom_point(aes(color=Id)) +
  labs(title = "Scatterplot relationship between step in a day and sedentary minutes")
```

##### 1. What's the relationship between steps taken in a day and sedentary minutes?
##### 2. How could this help inform the customer segments that we can market to?
##### 3. E.g. position this more as a way to get started in walking more?
##### 4. Or to measure steps that you're already taking?

From scatterplot above we can see that some people are taking 10000 steps and not moving much for 750
minutes or equal to 12,6 hours and to people who took steps under 10000 usually stay still for 1250 minutes or equal to 20,3 hours. This average can vary significantly depending on factors like age, gender, occupation, and even location. 

Fitbit tracker could be very effective to who likes run and also who wants to monitor their healthy.

A review of studies found that children and teens typically log between 10,000 and 16,000 steps daily. By looking at this scatterplot people need to take steps more.

```{r echo=FALSE, warning=FALSE}
ggplot(sleepday, aes(x=TotalTimeInBed, y=TotalMinutesAsleep)) +
  geom_point(aes(colour = Id)) +
  labs(title = "Scatterplot relationship between minutes asleep and time in bed")
```

##### 1. What's the relationship between minutes asleep and time in bed?
##### 2. You might expect it to be almost completely linear - are there any unexpected trends?

From scatterplot above we can understand that average people spent their time on bed around 300 minutes or equal to 5 hours and 600 minutes or equal to 10 hours, but are they asleep or just being lazy on bed? the plot says that people are on bed just to sleep or rest.

Looking by plot the more tired people will take sleep more longer but they are still consistent by time on bed and time asleep.

#### Combine dataset to compare another data
```{r combine, warning=FALSE}
combine_data <- merge(dailyactivity, sleepday, by="Id")
combine_data$Id <- as.factor(combine_data$Id)
```

#### Filter columns that we want to use
```{r filter combine data, warning=FALSE}
filtered_combine_data <- combine_data %>% 
  select(Id, TotalSteps, TotalSleepRecords) %>% 
  group_by(Id) %>% 
  summarize(max_ts = max(TotalSteps), max_tsr = max(TotalSleepRecords))
```

#### Visualize combined data
```{r visualize combined, echo=FALSE, warning=FALSE}
ggplot(filtered_combine_data, aes(max_tsr, max_ts)) +
  geom_col(aes(fill = Id), color="white") +
  xlab("TotalSleepRecords") + ylab("TotalSteps") +
  labs(title = "BarStack relationship between total sleep records and total steps")
```

##### 1. Do you think participants who sleep more also take more steps or fewer
People are taking fewer steps if they sleep more than once a day

## [8] Conclusion
1. Participants are taking 8000 - 11000 steps a day. It means participants is below than it should be.children and teens typically log between 10,000 and 16,000 steps daily.
2. Fitbit tracker is more useful to people who loves walk but doesn't mean isn't useful to average people. Beside just tracking steps, fitbit can maintain their healthy by monitoring daily activity.
3. Participants have average 5-10 hours sleep and same as time on bed.
4. The more tired participants the more they sleep.
5. Participants will have fewer steps if they sleep more than once a day.